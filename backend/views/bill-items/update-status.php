<?phpuse yii\helpers\Html;use yii\bootstrap\ActiveForm;use appxq\sdii\helpers\SDNoty;$this->title = 'จัดการสถานะบิล';?>    <div class="bill-items-form"><?php ActiveForm::begin([    'options' => ['enctype' => 'multipart/form-data'],    'id' => 'form-update-status',]); ?>    <div class="modal-header kn-modal-header">        <a class="pull-right btnModalMain close">&times;</a>        <h3 class="modal-title" id="itemModalLabel"> <?= Html::encode($this->title) ?></h3>    </div>    <div class="modal-body">        <div class="row">            <div class="col-md-12">                <?php                    $items = [0 => 'ปิดการใช้งานบิล', '2' => 'ไม่สามารถแก้ไขบิลได้'];                    echo $form->field($model, 'rstat')->inline()->radioList($items);                ?>                <?php \richardfan\widget\JSRegister::begin() ?>                <script>                    function initRemarks(show) {                        if (show == 0) {                            $("#form-remark").removeClass("hidden");                        } else {                            $("#form-remark").addClass("hidden");                        }                    }                    initRemarks(<?= isset($model->rstat) ? $model->rstat : 1; ?>);                    $("#billitems-rstat .radio-inline input").change(function () {                        let val = $(this).val();                        console.log(val);                        initRemarks(val);                        return false;                    });                </script>                <?php \richardfan\widget\JSRegister::end() ?>            </div>            <div class="col-md-12">                <div class="alert alert-warning hidden" id="form-remark" style="background: white !important;    border: 2px solid #f39c12;    color: #595d6e !important;">                    <?php                    $items = \backend\models\Remarks::find()->where('rstat not in(0,3)')->all();                    $items = \yii\helpers\ArrayHelper::map($items, 'id', 'name');                    echo $form->field($model, 'remark')->radioList($items);                    ?>                </div>            </div>        </div>        <div class="modal-footer" style="background: #f3f3f3;">            <div class="row">                <div class="col-md-6 col-md-offset-3">                    <?= Html::submitButton($model->isNewRecord ? Yii::t('app', 'Submit') : Yii::t('app', 'Submit'), ['class' => $model->isNewRecord ? 'btn btn-success btn-lg btn-block' : 'btn btn-primary btn-lg btn-block']) ?>                </div>            </div>        </div>        <?php ActiveForm::end(); ?>    </div><?php \richardfan\widget\JSRegister::begin([    //'key' => 'bootstrap-modal',    'position' => \yii\web\View::POS_READY]); ?>    <script>        $('form#<?= $model->formName()?>').on('beforeSubmit', function (e) {            var $form = $(this);            var formData = new FormData($(this)[0]);            $.ajax({                url: $form.attr('action'),                type: 'POST',                data: formData,                processData: false,                contentType: false,                cache: false,                enctype: 'multipart/form-data',                success: function (result) {                    <?= SDNoty::show('result.message', 'result.status')?>                    if (result.status == 'success') {                        $(document).find('#modal-bill-items').modal('hide');                        // $.pjax.reload({container:'#bill-items-grid-pjax'});                        setTimeout(function () {                            location.reload();                        }, 1000);                    }                }            }).fail(function (jqXHR, textStatus) {                <?= SDNoty::show('result.message', 'result.status')?>            });            return false;        });    </script><?php \richardfan\widget\JSRegister::end(); ?>